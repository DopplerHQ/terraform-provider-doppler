---
page_title: "doppler_secrets_sync_aws_parameter_store Resource - terraform-provider-doppler"
subcategory: ""
description: |-
	Manage an AWS Parameter Store Doppler sync.
---

# doppler_secrets_sync_aws_parameter_store (Resource)

Manage an AWS Parameter Store Doppler sync.

## Example Usage

```terraform
resource "aws_iam_role" "doppler_parameter_store" {
  name = "doppler_parameter_store"

  assume_role_policy = jsonencode({
    Version = "2012-10-17"
    Statement = [
      {
        Effect = "Allow"
        Action = "sts:AssumeRole"
        Principal = {
          AWS = "arn:aws:iam::299900769157:user/doppler-integration-operator"
        },
        Condition = {
          StringEquals = {
            "sts:ExternalId" = "<YOUR_WORKPLACE_SLUG>"
          }
        }
      },
    ]
  })

  inline_policy {
    name = "doppler_secret_manager"

    policy = jsonencode({
      Version = "2012-10-17"
      Statement = [
        {
          Action = [

            "ssm:PutParameter",
            "ssm:LabelParameterVersion",
            "ssm:DeleteParameter",
            "ssm:RemoveTagsFromResource",
            "ssm:GetParameterHistory",
            "ssm:AddTagsToResource",
            "ssm:GetParametersByPath",
            "ssm:GetParameters",
            "ssm:GetParameter",
            "ssm:DeleteParameters"
          ]
          Effect   = "Allow"
          Resource = "*"
          # Limit Doppler to only access certain names
        },
      ]
    })
  }
}


resource "doppler_integration_aws_parameter_store" "prod" {
  name            = "Production"
  assume_role_arn = aws_iam_role.doppler_parameter_store.arn
}

resource "doppler_secrets_sync_aws_parameter_store" "backend_prod" {
  integration = doppler_integration_aws_parameter_store.prod.id
  project     = "backend"
  config      = "prd"

  region        = "us-east-1"
  path          = "/backend/"
  secure_string = true
  tags          = { myTag = "enabled" }

  delete_behavior = "leave_in_target"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `config` (String) The name of the Doppler config
- `integration` (String) The slug of the integration to use for this sync
- `path` (String) The path to the parameters in AWS
- `project` (String) The name of the Doppler project
- `region` (String) The AWS region

### Optional

- `delete_behavior` (String) The behavior to be performed on the secrets in the sync target when this resource is deleted or recreated. Either `leave_in_target` (default) or `delete_from_target`.
- `kms_key_id` (String) The AWS KMS key used to encrypt the parameter (ID, Alias, or ARN)
- `secure_string` (Boolean) Whether or not the parameters are stored as a secure string
- `tags` (Map of String) AWS tags to attach to the parameters
- `update_resource_tags` (String) Behavior for AWS resource tags on updates (`never` update, `upsert` tags (leaving non-Doppler tags alone), `replace` tags (remove non-Doppler tags))

### Read-Only

- `id` (String) The ID of this resource.
